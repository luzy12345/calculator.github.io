<!DOCTYPE html>
<html>
<head>
    <title>blog</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link  rel="stylesheet" type="text/css" href="../css/normalize.css">
    <link  rel="stylesheet" type="text/css" href="../css/classification.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
    <script src="../js/localforage.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/director.js"></script>
    <script src="../js/crud.js"></script>
</head>
<body>
    <div class="navbar">
        <div class="headerbox">
            <h1 class="header">blog</h1>
        </div>
        <div class="abox">
            <li><a href="../details_html/follow_details.html">关注我</a></li>
            <li><a class="active" href="blog.html">blog</a></li>
            <li><a href="../details_html/apply_details.html">应用</a></li>
            <li><a href="../details_html/calculator_details.html">计算器</a></li>
            <li> <a href="../index.html">首页</a></li>
        </div>
    </div>
    <div class="row">
        <div class="side" id="main">
        <h2 style="width: 100%;">博文归档</h2>
        <a href="#/">归档</a>
        <a href="#/posts/new">新增</a>
           

        </div>
        <div class="right">
            <div class="aboutme"  style="height: auto;text-align: center;">
                <img src="../image/headimage.png">
                <a href="../blog/aboutluzy.html" style="width: 100%;text-decoration: none;color: black;">Luzy</a><br>
                <a href="../blog/readme.html" style="width: 100%;text-decoration: none;color: black;">关于这个网站</a><br>
                <a href="../list_html/blog.html" style="width: 100%;text-decoration: none;color: black;"><i class="fa fa-sticky-note"></i>归档</a>
                <a href="../classification/classification.html" style="width: 100%;text-decoration: none;color: rgb(253, 166, 4);"><i class="fa fa-folder-open"></i>分类</a>
                <a href="../tags/tags.html" style="width: 100%;text-decoration: none;color: rgb(9, 236, 252);"><i class="fa fa-tags"></i>标签</a>
                <hr width="200px">
                <a href="https://github.com/luzy12345/web.github.io"><i class="fa fa-github" ></i></a>
                
            </div>
        </div>
    </div>
    <script type="text/javascript">

        // 客户端路由库，方便处理对hash的监听和解析 https://github.com/flatiron/director    
        // https://www.cnblogs.com/Showshare/p/director-chinese-tutorial.html
        var routes = {      
          '/': blog,
          '/posts/new': posts_new,
          '/posts/:id': posts_show,
          '/posts/:id/edit': posts_edit,
          '/posts/:id/delete': posts_delete
        };
    
        var router = Router(routes).configure({strict:false});
        router.init();
    
        //  `index.html#/posts/2`这样的客户端路由被分享或收藏时，也会触发载入首页，导致home()被执行 ，此处排除这种状况
        if(location.hash == '' ){ blog() }      
        
        function blog(){
          posts_blog()      
        }
    
        function posts_blog(){
          renderTemplate('#main','post/blog','posts')        
        }
    
        function posts_new(){
          renderTemplate('#main','post/new','posts')  
        }
    
        function posts_show(id){      
          renderTemplate('#main','post/show','posts',id) 
        }
    
        function posts_edit(id){
          renderTemplate('#main','post/edit','posts',id) 
        }
    
        function posts_delete(id){      
          //删除是危险操作，一般应提供一个删除表单，请用户确认是否删除。此处从简，留给同学们实现
          //renderTemplate('#main','post/delete','posts',id)  
          postDestroy(id)
          posts_index()
        }
    
      </script>
</body>
</html>